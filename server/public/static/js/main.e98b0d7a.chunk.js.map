{"version":3,"sources":["components/ui/css/SheetSelector.module.css","components/layout/Layout.jsx","services/axios.js","utils/date.js","components/ui/modals/MessageModal.jsx","utils/sheet.js","components/ui/SheetSelector.jsx","components/ui/TicketBookingForm.jsx","services/booking.js","components/pages/TicketBookingPage.jsx","components/pages/TicketListPage.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["module","exports","Layout","children","className","to","type","id","axios","defaults","baseURL","process","interceptors","request","use","console","log","method","url","response","data","dateToYYYYMMDD","inputDate","Date","sep","temp","toLocaleDateString","month","year","day","split","date","MessageModal","props","open","title","onClose","handleClose","Modal","show","onHide","Header","closeButton","Title","Body","Footer","Button","variant","onClick","arrayOf","length","Array","fill","map","_","index","SheetSelector","bookings","useContext","BookingContext","useState","bookedSheetsMap","setBookedSheetMap","selectedSheets","setSelectedSheets","bookedSheetByUser","showMessage","String","fromCharCode","columns","leftRow","rightRow","sheetArrangement","setSheetArrangement","sheetImage","bookedSheetImage","selectedSheetImage","useEffect","bookedSheets","reduce","sheets","booking","sheet","series","number","maped","item","isBooked","name","isSelected","left","right","forEach","row","row2","push","handleSheetClick","selectedLength","Object","keys","alert","renderImageIcon","src","classes","height","RenderIconHint","RenderSheet","col","generate","Message","style","verticalAlign","SheetImageHintLabel","alt","srcset","TicketBookingForm","selectedDate","setSelectedDate","resetBookings","setBookedSheetByUser","popup","setPopup","message","setMessage","history","useHistory","mobile","form","setForm","trim","get","toISOString","then","getBookingCountByMobile","sheetBooked","handleInputChange","event","target","value","color","content","Form","onSubmit","location","pathname","values","window","scrollTo","top","formData","post","bookingId","join","catch","error","Field","onChange","placeholder","React","createContext","TicketBookingPage","setBookings","query","URLSearchParams","toString","getBookingsByDate","context","Provider","TicketListPage","list","toDateString","textDecoration","href","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e98b0d7a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"SheetImageHintLabel\":\"SheetSelector_SheetImageHintLabel__39YhQ\"};","import { Link } from \"react-router-dom\";\n\nconst Layout = ({ children }) => {\n  return (\n    <div>\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n        <div className=\"container-fluid\">\n          <Link className=\"navbar-brand\" to=\"/\">\n            Home\n          </Link>\n          <button\n            className=\"navbar-toggler\"\n            type=\"button\"\n            data-bs-toggle=\"collapse\"\n            data-bs-target=\"#navbarNavDropdown\"\n            aria-controls=\"navbarNavDropdown\"\n            aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\"\n          >\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse\" id=\"navbarNavDropdown\">\n            <ul className=\"navbar-nav\">\n              <li className=\"nav-item\">\n                <Link\n                  className=\"nav-link active\"\n                  aria-current=\"page\"\n                  to=\"/tickets/book\"\n                >\n                  Book Ticket\n                </Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link\n                  className=\"nav-link active\"\n                  aria-current=\"page\"\n                  to=\"/tickets/list\"\n                >\n                  List Tickets\n                </Link>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n\n      <div className=\"container-fluid mt-3\">{children}</div>\n    </div>\n  );\n};\n\nexport { Layout };\n","import axios from \"axios\";\nconst { REACT_APP_API_HOST } = process.env;\n\naxios.defaults.baseURL = REACT_APP_API_HOST;\n\naxios.interceptors.request.use((request) => {\n  console.log(`Request Interceptor: ${request.method}: ${request.url}`);\n  return request;\n});\n\naxios.interceptors.response.use((response) => {\n  console.log(`Response Interceptor:`, response && response.data);\n  return response;\n});\n\nexport { axios };\n","const dateToYYYYMMDD = (inputDate = new Date(), sep = \"-\") => {\n  const temp = new Date(inputDate);\n  const [date, month, year] = temp\n    .toLocaleDateString(\"US-en\", {\n      month: \"2-digit\",\n      year: \"numeric\",\n      day: \"2-digit\",\n    })\n    .split(\"/\");\n\n  return `${year}${sep}${month}${sep}${date}`;\n};\nexport { dateToYYYYMMDD };\n","import { Fragment } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\n\nfunction MessageModal(props) {\n  const { open, title, onClose, children } = props;\n  const handleClose = () => onClose && onClose();\n  return (\n    <Fragment>\n      <Modal show={open} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>{title || \"Message\"}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>{children}</Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"dark\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </Fragment>\n  );\n}\n\nexport default MessageModal;\n","function createSheetSeries() {\n  return arrayOf(30).map((_, index) => {\n    if (index >= 26) {\n      return String.fromCharCode(65) + String.fromCharCode(65 + index - 26);\n    }\n    return String.fromCharCode(65 + index);\n  });\n}\n\nfunction arrayOf(length) {\n  return new Array(length).fill().map((_, index) => index);\n}\n\nexport { createSheetSeries, arrayOf };\n","import { Fragment, useContext, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { SheetImageHintLabel } from \"./css/SheetSelector.module.css\";\n\nimport \"../../utils/date\";\nimport { dateToYYYYMMDD } from \"../../utils/date\";\nimport { BookingContext } from \"../pages/TicketBookingPage\";\nimport { generate } from \"shortid\";\nimport { Message } from \"semantic-ui-react\";\nimport { createSheetSeries, arrayOf } from \"../../utils/sheet\";\nconst SheetSelector = (props) => {\n  const { bookings } = useContext(BookingContext);\n  const [bookedSheetsMap, setBookedSheetMap] = useState({});\n  const { selectedSheets, setSelectedSheets, bookedSheetByUser, showMessage } =\n    props;\n  const leftRow = 3;\n  const rightRow = 3;\n  const [columns] = useState(createSheetSeries());\n  const [sheetArrangement, setSheetArrangement] = useState({\n    leftRow: [],\n    rightRow: [],\n  });\n\n  const sheetImage = \"/sheet.png\";\n  //   const sheetImage = \"/selectedsheet.png\";\n  const bookedSheetImage = \"/bookedsheet.png\";\n  const selectedSheetImage = \"/check.png\";\n\n  useEffect(() => {\n    setBookedSheetMap({});\n    setSelectedSheets({});\n  }, [bookings]);\n\n  useEffect(() => {\n    if (bookings.length) {\n      console.log({ bookings });\n      const bookedSheets = bookings\n        .reduce((sheets, booking) => [...sheets, ...booking.sheets], [])\n        .map((sheet) => `${sheet.series}${sheet.number}`)\n        .reduce((maped, item) => {\n          maped[item] = true;\n          return maped;\n        }, {});\n\n      setBookedSheetMap(bookedSheets);\n    }\n  }, [bookings]);\n\n  const isBooked = (sheet) => {\n    return bookedSheetsMap[sheet.name];\n  };\n  const isSelected = (sheet) => {\n    // console.log({ sheet });\n    return selectedSheets[sheet.name];\n  };\n\n  useEffect(() => {\n    const [left, right] = [[], []];\n    columns.forEach((series) => {\n      const row = arrayOf(leftRow).map((_, index) => {\n        return {\n          name: `${series}${index + 1}`,\n          series,\n          number: index + 1,\n        };\n      });\n      const row2 = arrayOf(rightRow).map((_, index) => {\n        return {\n          name: `${series}${index + 1 + leftRow}`,\n          series,\n          number: index + 1 + leftRow,\n        };\n      });\n\n      left.push(row);\n      right.push(row2);\n    });\n    setSheetArrangement({ leftRow: left, rightRow: right });\n  }, [columns]);\n\n  const handleSheetClick = (sheet) => {\n    console.log({ sheet: sheet.name });\n    console.log(selectedSheets);\n\n    if (selectedSheets[sheet.name]) {\n      const temp = { ...selectedSheets };\n      delete temp[sheet.name];\n      setSelectedSheets(temp);\n      return;\n    }\n    const selectedLength = Object.keys(selectedSheets).length;\n    if (selectedLength === 6) {\n      return alert(\"Cant select more then 6\");\n    }\n\n    if (selectedLength + bookedSheetByUser >= 6) {\n      return showMessage(\n        \"Message\",\n        `Already Booked ${bookedSheetByUser} sheets, You can only select ${\n          6 - bookedSheetByUser\n        }`\n      );\n    }\n    setSelectedSheets({ ...selectedSheets, [sheet.name]: sheet });\n  };\n\n  const renderImageIcon = (src, classes) => {\n    return (\n      <img\n        className={`rounded mx-auto d-block ${classes}`}\n        height=\"30px\"\n        src={src}\n      ></img>\n    );\n  };\n\n  let key = 1;\n  const getKey = () => {\n    return key++;\n  };\n\n  return (\n    <div className=\"\">\n      <div>\n        <hr />\n        <RenderIconHint />\n        <hr />\n        <h4 className=\"\">Select Sheets</h4>\n        <hr />\n      </div>\n      <div className=\"row\">\n        {/* LEFT ROW ... */}\n        <div className=\"col  rounded\">\n          {sheetArrangement.leftRow.map((item, index) => (\n            <div className=\"row\" key={index}>\n              {item.map((sheet) => (\n                <RenderSheet sheet={sheet} />\n              ))}\n            </div>\n          ))}\n        </div>\n\n        <div className=\"col-2\">\n          <div className=\"row\">\n            {columns.map((col, index) => (\n              <div key={index} className=\"p-2 col-12 text-center\">\n                {renderImageIcon(\n                  \"/down.png\",\n                  index % 3 === 0 ? \"visible\" : \"invisible\"\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* RIGHT ROW */}\n        <div className=\"col rounded\">\n          {sheetArrangement.rightRow.map((item, index) => (\n            <div key={index} className=\"row\">\n              {item.map((sheet) => (\n                <RenderSheet sheet={sheet} />\n              ))}\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n\n  function RenderSheet({ sheet }) {\n    return (\n      <Fragment key={generate()}>\n        {isSelected(sheet) ? (\n          <div\n            className={`col p-2 hand`}\n            onClick={() => handleSheetClick(sheet)}\n          >\n            {/* {item.name} */}\n            {renderImageIcon(selectedSheetImage)}\n          </div>\n        ) : !isBooked(sheet) ? (\n          <div\n            className={`col p-2 hand`}\n            onClick={() => handleSheetClick(sheet)}\n          >\n            {/* {item.name} */}\n            {renderImageIcon(sheetImage)}\n          </div>\n        ) : (\n          <div className={`col p-2 blocked`} title=\"Booked!\">\n            {/* {item.name} */}\n\n            {renderImageIcon(bookedSheetImage)}\n          </div>\n        )}\n      </Fragment>\n    );\n  }\n\n  function RenderIconHint() {\n    return (\n      <Message className=\"row\">\n        <div className=\"col mt-2\">\n          <p style={{ verticalAlign: \"center\" }}>\n            <span className={`${SheetImageHintLabel}`}>\n              Selected <img src={selectedSheetImage} alt=\"\" srcset=\"\" />\n            </span>\n          </p>\n        </div>\n        <div className=\"col mt-2\">\n          <p style={{ verticalAlign: \"center\" }}>\n            <span className={`${SheetImageHintLabel}`}>\n              Available <img src={sheetImage} alt=\"\" srcset=\"\" />\n            </span>\n          </p>\n        </div>\n        <div className=\"col mt-2\">\n          <p style={{ verticalAlign: \"center\" }}>\n            <span className={`${SheetImageHintLabel}`}>\n              Booked\n              <img src={bookedSheetImage} alt=\"\" srcset=\"\" />\n            </span>\n          </p>\n        </div>\n      </Message>\n    );\n  }\n};\n\nexport { SheetSelector };\n","import { useContext, useEffect, useState } from \"react\";\nimport { Button, Form, Message } from \"semantic-ui-react\";\nimport {\n  createBooking,\n  getBookingCountByMobile,\n  getBookingsByDate,\n} from \"../../services/booking\";\nimport \"../../utils/date\";\nimport { dateToYYYYMMDD } from \"../../utils/date\";\nimport { BookingContext } from \"../pages/TicketBookingPage\";\nimport MessageModal from \"./modals/MessageModal\";\nimport { SheetSelector } from \"./SheetSelector\";\nimport { useHistory } from \"react-router-dom\";\n\nconst TicketBookingForm = (props) => {\n  const { selectedDate, setSelectedDate, resetBookings } =\n    useContext(BookingContext);\n  const [selectedSheets, setSelectedSheets] = useState({});\n  const [bookedSheetByUser, setBookedSheetByUser] = useState(0);\n\n  const [popup, setPopup] = useState({ open: false });\n  const [message, setMessage] = useState(null);\n  const history = useHistory();\n\n  const [form, setForm] = useState({\n    date: selectedDate,\n    mobile: \"\",\n  });\n\n  useEffect(() => {\n    const { mobile, date } = form;\n    setBookedSheetByUser(0);\n    setMessage(null);\n    if (date && mobile) {\n      if (mobile.trim().length > 9)\n        getBookingCountByMobile(mobile, date).then((data) => {\n          const { sheetBooked } = data;\n          console.log({ sheetBooked });\n          setBookedSheetByUser(sheetBooked);\n          if (sheetBooked >= 6) {\n            return setMessage(\n              `Already Booked ${sheetBooked} Sheets On Selected Date.`\n            );\n          } else {\n            setMessage(null);\n          }\n        });\n    }\n  }, [form]);\n\n  useEffect(() => {\n    setForm({ ...form, date: selectedDate });\n  }, [selectedDate]);\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    if (name === \"date\") {\n      return setSelectedDate(value);\n    }\n    setForm({\n      ...form,\n      [name]: value,\n    });\n  };\n\n  const handleFormSubmit = () => {\n    const { pathname } = history.location;\n    if (!Object.values(selectedSheets).length) {\n      window.scrollTo({ top: 0 });\n      return setMessage(\"Select Sheets\");\n    }\n\n    if (!form.mobile.trim()) {\n      window.scrollTo({ top: 0 });\n      return setMessage(\"Enter Phone\");\n    }\n\n    const formData = {\n      mobile: form.mobile,\n      date: form.date,\n      sheets: Object.values(selectedSheets).map(({ series, number }) => ({\n        series,\n        number,\n      })),\n    };\n\n    createBooking(formData)\n      .then(({ booking }) => {\n        setSelectedSheets({});\n        resetBookings();\n        setPopup({\n          open: true,\n          title: \"Ticket Booked\",\n          content: (\n            <div>\n              <p>Booking Id: {booking.bookingId}</p>\n              <p>Mobile Number: {booking.mobile}</p>\n              <p>\n                Sheets:{\" \"}\n                {booking.sheets\n                  .map((sheet) => `${sheet.series}${sheet.number}`)\n                  .join(\", \")}\n              </p>\n            </div>\n          ),\n        });\n      })\n      .catch((error) => {\n        const data = error.response.data;\n        setMessage(data.error);\n      });\n  };\n\n  const showMessage = (title, message) => {\n    setPopup({\n      open: true,\n      title,\n      content: message,\n    });\n  };\n\n  return (\n    <div className=\"m-4\" id=\"form\">\n      {message && <Message color=\"yellow\">{message}</Message>}\n\n      <MessageModal\n        open={popup.open}\n        title={popup.title}\n        onClose={() => setPopup({ open: false })}\n      >\n        {popup.content}\n      </MessageModal>\n\n      <Form onSubmit={handleFormSubmit}>\n        <Form.Field>\n          <label>Mobile Number</label>\n          <input\n            value={form.mobile}\n            onChange={handleInputChange}\n            placeholder=\"Mobile\"\n            type=\"number\"\n            name=\"mobile\"\n          />\n        </Form.Field>\n        <Form.Field>\n          <label>Date</label>\n          <input\n            placeholder=\"Date\"\n            type=\"date\"\n            name=\"date\"\n            value={form.date}\n            onChange={handleInputChange}\n          />\n        </Form.Field>\n        <SheetSelector\n          {...{\n            selectedSheets,\n            setSelectedSheets,\n            bookedSheetByUser,\n            showMessage,\n          }}\n        ></SheetSelector>\n        <hr />\n        <Button color={\"black\"} type=\"submit\">\n          Submit\n        </Button>\n      </Form>\n    </div>\n  );\n};\n\nexport { TicketBookingForm };\n","import { axios } from \"./axios\";\n\nfunction getBookingsByDate(date) {\n  const query = new URLSearchParams({\n    date: new Date(date).toISOString(),\n  }).toString();\n  return axios\n    .get(`/api/bookings?${query}`)\n    .then((response) => response && response.data);\n}\n\nfunction createBooking(data) {\n  return axios\n    .post(`/api/bookings`, data)\n    .then((response) => response && response.data);\n}\n\nfunction getBookingCountByMobile(mobile, date) {\n  return axios\n    .get(`/api/bookings/${mobile}/${new Date(date).toISOString()}/count`)\n    .then((response) => response && response.data);\n}\n\nfunction getListOfBookings() {\n  return axios\n    .get(\"/api/bookings/time-optimized-list\")\n    .then((response) => response.data);\n}\n\nexport {\n  getBookingsByDate,\n  createBooking,\n  getBookingCountByMobile,\n  getListOfBookings,\n};\n","import React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { getBookingsByDate } from \"../../services/booking\";\nimport \"../../utils/date\";\nimport { dateToYYYYMMDD } from \"../../utils/date\";\nimport MessageModal from \"../ui/modals/MessageModal\";\nimport { TicketBookingForm } from \"../ui/TicketBookingForm\";\n\nconst BookingContext = React.createContext();\n\nconst TicketBookingPage = (props) => {\n  console.log(dateToYYYYMMDD(new Date()));\n  const [selectedDate, setSelectedDate] = useState(dateToYYYYMMDD(new Date()));\n  const [bookings, setBookings] = useState([]);\n\n  const resetBookings = () => {\n    getBookingsByDate(selectedDate).then(({ bookings }) => {\n      setBookings(bookings);\n    });\n  };\n\n  const context = { bookings, selectedDate, setSelectedDate, resetBookings };\n\n  useEffect(() => {\n    setBookings([]);\n    console.log(\"DATE CHANGED>>.\");\n    resetBookings();\n  }, [selectedDate]);\n\n  return (\n    <BookingContext.Provider value={context}>\n      <div className=\"col-lg-6 col-md-8 mx-auto shadow rounded py-4\">\n        <TicketBookingForm />\n      </div>\n      Ticket Booking Page\n    </BookingContext.Provider>\n  );\n};\n\nexport { TicketBookingPage, BookingContext };\n","import { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getListOfBookings } from \"../../services/booking\";\nimport { createSheetSeries } from \"../../utils/sheet\";\n\nconst TicketListPage = (props) => {\n  const [bookings, setBookings] = useState([]);\n  useEffect(() => {\n    getListOfBookings().then((list) => {\n      setBookings(list);\n    });\n  }, []);\n  return (\n    <div>\n      <div className=\"col-lg-7 mx-auto\">\n        <h4 className=\"display-6\">Bookings </h4>\n\n        <hr />\n        <table className=\"table table-bordered table-hover table-striped\">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th>Booking Id</th>\n              <th>Date</th>\n              <th>Sheets</th>\n              <th>Phone</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {bookings.map((booking, index) => (\n              <tr key={index}>\n                <td>{index + 1}</td>\n                <td>{booking.bookingId}</td>\n                <td>{new Date(booking.date).toDateString()}</td>\n                <td>\n                  {booking.sheets\n                    .map((sheet) => `${sheet.series}${sheet.number}`)\n                    .join(\", \")}\n                </td>\n                <td>\n                  <a\n                    style={{\n                      textDecoration: \"none\",\n                    }}\n                    href={`tel:${booking.mobile}`}\n                    target=\"_blank\"\n                  >\n                    📞\n                  </a>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport { TicketListPage };\n","import { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\nimport { Layout } from \"./components/layout/Layout\";\nimport { TicketBookingPage } from \"./components/pages/TicketBookingPage\";\nimport { TicketListPage } from \"./components/pages/TicketListPage\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Layout>\n        <Switch>\n          <Route path={[\"/\", \"/tickets/book\"]} exact>\n            <TicketBookingPage />\n          </Route>\n          <Route path=\"/tickets/list\" exact>\n            <TicketListPage />\n          </Route>\n        </Switch>\n      </Layout>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { Fragment } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap/dist/js/bootstrap.min.js\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <Fragment>\n    <App />\n  </Fragment>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}